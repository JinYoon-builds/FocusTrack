# ADR-002: 지도 학습(Binary Classification)에서 이상 탐지(Anomaly Detection)로의 전환

* **Status:** Accepted
* **Date:** 2025-12-25
* **Deciders:** Jin Yoon

## Context (배경 및 문제점)
ADR-001을 통해 좌표(Landmark) 기반 분석으로 전환했으나, 여전히 **KNN(K-Nearest Neighbors) 기반의 이진 분류(Binary Classification)** 접근 방식에는 논리적 모순이 존재한다.

1.  **Negative Class(딴짓)의 불확실성:** '공부 자세(Positive)'는 캘리브레이션을 통해 사용자별로 정의할 수 있으나, '딴짓(Negative)'은 핸드폰 사용, 졸음, 이석, 멍때리기 등 그 형태가 무한하여 사전에 데이터를 수집하거나 라벨링하는 것이 불가능하다.
2.  **데이터 불균형:** 캘리브레이션으로 수집한 '집중 데이터'는 존재하지만, 비교 대상인 '비집중 데이터'가 없으면 KNN 알고리즘이 정상적으로 작동하기 어렵다. (비집중 데이터가 없으면 무조건 가장 가까운 이웃인 '집중'으로 분류될 위험이 큼)

## Decision (결정 사항)
'집중'과 '비집중'을 모두 학습하여 구분하는 방식을 폐기하고, **One-Class Classification(이상 탐지)** 방식을 채택한다.

1.  **Logic Shift:** "이것은 A이고 저것은 B다"를 구분하는 것이 아니라, "**이것은 A(집중)이다. A가 아니면 모두 딴짓이다**"라는 논리로 변경한다.
2.  **Calibration의 역할 강화:** 프로그램 시작 시 수집하는 캘리브레이션 데이터는 KNN의 '이웃'이 되는 것이 아니라, 이상 탐지의 **'정상 기준점(Centroid)'과 '허용 범위(Boundary)'**를 설정하는 데 사용된다.
3.  **Distance Metric:** 실시간 좌표 벡터가 캘리브레이션으로 형성된 '정상 군집'의 중심에서 일정 임계값(Threshold) 이상 멀어지면 즉시 '이상(Outlier)'으로 판정한다.

## Consequences (예상 결과 및 트레이드오프)
* **Positive (장점):**
    * **Data Efficiency:** '딴짓'에 대한 데이터를 전혀 학습할 필요가 없다. 오직 '사용자의 현재 공부 자세'만 알면 된다.
    * **Robustness:** 사용자가 특이한 자세로 딴짓을 하더라도, 정의된 '공부 범위' 밖이라면 모두 잡아낼 수 있다.
* **Negative (단점):**
    * **Threshold Sensitivity:** "얼마나 움직여야 딴짓인가?"에 대한 임계값 설정이 매우 까다롭다. 너무 예민하면 조금만 뒤척여도 비집중으로 기록되어 사용자 경험을 해칠 수 있다.